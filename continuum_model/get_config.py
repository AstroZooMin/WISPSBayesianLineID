import scipy.interpolate
import astropy.io.fits as fitsio

def get_config_G102_F110():

    EXT_A_0  = 41
    EXT_A_1  = 248
    DYDX_A_0 = lambda x,y:   -0.221944440536      - 0.0002663379534341786*x - 0.0018501621696214792*y +4.877038129656633e-10  *x*x +5.408087165623451e-7  *y*y +1.5530956524130845e-7 *x*y
    DYDX_A_1 = lambda x,y:    0.01409870961049523 - 6.379312386311464e-6 *x - 1.7291364097521173e-6*y -6.706042298906293e-10  *x*x +1.2760204375540773e-8 *y*y -1.4759256948695718e-10*x*y
    DLDP_A_0 = lambda x,y: 6339.59279173          + 0.201430850028975    *x + 0.0802131361796817   *y -0.00019613135070868445 *x*x +0.00003013960034834457*y*y -0.00008431572555355592*x*y
    DLDP_A_1 = lambda x,y:   24.001233940762805   - 0.0007160621018940599*x + 0.0008411542615870384*y +8.977548140491455e-7   *x*x -3.160441003220574e-7  *y*y +7.140436248957638e-7  *x*y
    DPDL_A_0 = lambda x,y: -264.55554306311785    - 0.015284337961919641 *x + 0.007028692785800708 *y +0.000016593558926983952*x*x -4.289040021460406e-6  *y*y +9.585810387600232e-6  *x*y
    DPDL_A_1 = lambda x,y:    0.04169157110485184 + 1.1332881093899574e-6*x - 1.5966113493334132e-6*y -1.3964496051633498e-9  *x*x +4.983248754757765e-10 *y*y -9.812838827422068e-10 *x*y
    RESP_A   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G102.1st.sens.2.fits')
    SENS_A   = scipy.interpolate.interp1d(RESP_A["WAVELENGTH"],RESP_A["SENSITIVITY"],fill_value=0,bounds_error=False)

    EXT_B_0  = -280
    EXT_B_1  = -220
    DYDX_B_0 = lambda x,y:     -4.44759883509         + 0.0013528229881200563 *x +  0.0007358132675236892*y - 1.2055028153206567e-7 *x*x - 2.4067825512095702e-6 *y*y - 2.1550315933844428e-7*x*y
    DLDP_B_0 = lambda x,y: 425747.130416              - 2.3372703881594914    *x - 24.604133293546717    *y + 0.006495073950998997  *x*x - 0.004965587131396293  *y*y + 0.003941292889403271 *x*y
    DLDP_B_1 = lambda x,y:   1591.4807567929506       + 0.01072485833724468   *x +  0.010484099575419082 *y + 1.741180520968595e-7  *x*x - 0.00001957910803090667*y*y + 2.4869927688622153e-6*x*y
    DPDL_B_0 = lambda x,y:   -267.64835287126334      + 0.0031811936021396356 *x +  0.01706185677703048  *y - 4.032994899257948e-6  *x*x - 1.0965007144950975e-8 *y*y - 2.070692200526903e-6 *x*y
    DPDL_B_1 = lambda x,y:      0.0006250000000000183 + 3.0222230432220303e-21*x +  2.584930889412207e-20*y + 2.9311834305717406e-23*x*x + 2.2626184980299305e-23*y*y + 1.525069888341582e-23*x*y
    RESP_B   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G102.0th.sens.1.fits')
    SENS_B   = scipy.interpolate.interp1d(RESP_B["WAVELENGTH"],RESP_B["SENSITIVITY"])

    config = {'EXT_A_0':EXT_A_0,'EXT_A_1':EXT_A_1,'RESP_A':RESP_A,'SENS_A':SENS_A,
              'DYDX_A_0':DYDX_A_0,'DYDX_A_1':DYDX_A_1,
              'DLDP_A_0':DLDP_A_0,'DLDP_A_1':DLDP_A_1,'DPDL_A_0':DPDL_A_0,'DPDL_A_1':DPDL_A_1,
              'EXT_B_0':EXT_B_0,'EXT_B_1':EXT_B_1,'RESP_B':RESP_B,'SENS_B':SENS_B,
              'DYDX_B_0':DYDX_B_0,
              'DLDP_B_0':DLDP_B_0,'DLDP_B_1':DLDP_B_1,'DPDL_B_0':DPDL_B_0,'DPDL_B_1':DPDL_B_1}

    return config

def get_config_G102_F140():

    EXT_A_0  = 41
    EXT_A_1  = 248
    DYDX_A_0 = lambda x,y:   -0.353944440536      -0.0002663379534341786*x - 0.0018501621696214792*y + 4.877038129656633e-10  *x*x + 5.408087165623451e-7  *y*y + 1.5530956524130845e-7 *x*y
    DYDX_A_1 = lambda x,y:    0.01409870961049523 -6.379312386311464e-6 *x - 1.7291364097521173e-6*y - 6.706042298906293e-10  *x*x + 1.2760204375540773e-8 *y*y - 1.4759256948695718e-10*x*y
    DLDP_A_0 = lambda x,y: 6342.47293981          +0.201430850028975    *x + 0.0802131361796817   *y - 0.00019613135070868445 *x*x + 0.00003013960034834457*y*y - 0.00008431572555355592*x*y
    DLDP_A_1 = lambda x,y:   24.001233940762805   -0.0007160621018940599*x + 0.0008411542615870384*y + 8.977548140491455e-7   *x*x - 3.160441003220574e-7  *y*y + 7.140436248957638e-7  *x*y
    DPDL_A_0 = lambda x,y: -264.55554306311785    -0.015284337961919641 *x + 0.007028692785800708 *y + 0.000016593558926983952*x*x - 4.289040021460406e-6  *y*y + 9.585810387600232e-6  *x*y
    DPDL_A_1 = lambda x,y:    0.04169157110485184 +1.1332881093899574e-6*x - 1.5966113493334132e-6*y - 1.3964496051633498e-9  *x*x + 4.983248754757765e-10 *y*y - 9.812838827422068e-10 *x*y
    RESP_A   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G102.1st.sens.2.fits')
    SENS_A   = scipy.interpolate.interp1d(RESP_A["WAVELENGTH"],RESP_A["SENSITIVITY"],fill_value=0,bounds_error=False)

    EXT_B_0  = -280
    EXT_B_1  = -220
    DYDX_B_0 = lambda x,y:     -4.57959883509         +0.0013528229881200563 *x + 0.0007358132675236892*y - 1.2055028153206567e-7 *x*x - 2.4067825512095702e-6 *y*y - 2.1550315933844428e-7*x*y
    DLDP_B_0 = lambda x,y: 425938.108107              -2.3372703881594914    *x - 24.604133293546717   *y + 0.006495073950998997  *x*x - 0.004965587131396293  *y*y + 0.003941292889403271 *x*y
    DLDP_B_1 = lambda x,y:   1591.4807567929506       +0.01072485833724468   *x + 0.010484099575419082 *y + 1.741180520968595e-7  *x*x - 0.00001957910803090667*y*y + 2.4869927688622153e-6*x*y
    DPDL_B_0 = lambda x,y:   -267.64835287126334      +0.0031811936021396356 *x + 0.01706185677703048  *y - 4.032994899257948e-6  *x*x - 1.0965007144950975e-8 *y*y - 2.070692200526903e-6 *x*y
    DPDL_B_1 = lambda x,y:      0.0006250000000000183 +3.0222230432220303e-21*x + 2.584930889412207e-20*y + 2.9311834305717406e-23*x*x + 2.2626184980299305e-23*y*y + 1.525069888341582e-23*x*y
    RESP_B   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G102.0th.sens.1.fits')
    SENS_B   = scipy.interpolate.interp1d(RESP_B["WAVELENGTH"],RESP_B["SENSITIVITY"])

    config = {'EXT_A_0':EXT_A_0,'EXT_A_1':EXT_A_1,'RESP_A':RESP_A,'SENS_A':SENS_A,
              'DYDX_A_0':DYDX_A_0,'DYDX_A_1':DYDX_A_1,
              'DLDP_A_0':DLDP_A_0,'DLDP_A_1':DLDP_A_1,'DPDL_A_0':DPDL_A_0,'DPDL_A_1':DPDL_A_1,
              'EXT_B_0':EXT_B_0,'EXT_B_1':EXT_B_1,'RESP_B':RESP_B,'SENS_B':SENS_B,
              'DYDX_B_0':DYDX_B_0,
              'DLDP_B_0':DLDP_B_0,'DLDP_B_1':DLDP_B_1,'DPDL_B_0':DPDL_B_0,'DPDL_B_1':DPDL_B_1}

    return config

def get_config_G141_F140():

    EXT_A_0  = 15
    EXT_A_1  = 196
    DYDX_A_0 = lambda x,y:    2.08196481352         - 0.00019752130624389416*x - 0.002202066565067532 *y  + 3.143514082596283e-8   *x*x + 4.3212786880932414e-7  *y*y + 1.210435999122636e-7  *x*y
    DYDX_A_1 = lambda x,y:    0.010205281672977665  - 6.06056923866002e-6   *x - 3.2485600412356953e-6*y  + 4.2363866304617406e-10 *x*x + 1.230956851333159e-8   *y*y + 1.6123073931033502e-9 *x*y
    DLDP_A_0 = lambda x,y: 8951.38620572            + 0.08044032819916265   *x - 0.009279698766495334 *y  + 0.000021856641668116504*x*x - 0.000011048008881387708*y*y + 0.00003352712538187608*x*y
    DLDP_A_1 = lambda x,y:   44.97227893276267      + 0.0004927891511929662 *x + 0.0035782416625653765*y  - 9.175233345083485e-7   *x*x + 2.2355060371418054e-7  *y*y - 9.258690000316504e-7  *x*y
    DPDL_A_0 = lambda x,y: -198.97909709239238      + 0.00022085642768667504*x + 0.015657459895358234 *y  - 4.20679688923729e-6    *x*x + 1.2280573229146504e-6  *y*y - 5.155391423878844e-6  *x*y
    DPDL_A_1 = lambda x,y:    0.022228565039576174  - 2.2310680636779698e-7 *x - 1.7250484537749406e-6*y  + 4.1766971161196834e-10 *x*x - 1.0112004248938472e-10 *y*y + 4.956649137022331e-10 *x*y
    RESP_A   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G141.1st.sens.2.fits')
    SENS_A   = scipy.interpolate.interp1d(RESP_A["WAVELENGTH"],RESP_A["SENSITIVITY"],fill_value=0,bounds_error=False)

    EXT_B_0  = -207
    EXT_B_1  = -177
    DYDX_B_0 = lambda x,y:     -0.197016471021         + 0.001119940227389483 *x -  0.00040208366824463386*y - 1.4194849412846487e-7 *x*x - 1.8676580206140632e-6 *y*y + 4.3309224018307426e-8  *x*y
    DLDP_B_0 = lambda x,y: 596591.735312               -11.142828121887003    *x - 36.64357684013913      *y + 0.011419229673613265  *x*x + 0.006832291128275392  *y*y - 0.0007734484905564656  *x*y
    DLDP_B_1 = lambda x,y:   3005.100296560758         - 0.030048806158424805 *x +  0.007875269629428604  *y + 0.00001042904281029149*x*x + 0.00003500270057271983*y*y - 0.000029167649909560617*x*y
    DPDL_B_0 = lambda x,y:   -198.54772435079127       + 0.0018167722687743144*x +  0.012732046102747235  *y - 3.1545156431674204e-6 *x*x - 7.78838498521172e-8   *y*y - 1.5746821630565375e-6  *x*y
    DPDL_B_1 = lambda x,y:      0.00033333333333336466 - 7.051596740287148e-20*x -  4.8635321687450096e-20*y + 4.7199609155642836e-23*x*x + 5.44539123505613e-23  *y*y + 3.3757517911810997e-23 *x*y
    RESP_B   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G141.0th.sens.1.fits')
    SENS_B   = scipy.interpolate.interp1d(RESP_B["WAVELENGTH"],RESP_B["SENSITIVITY"])

    config = {'EXT_A_0':EXT_A_0,'EXT_A_1':EXT_A_1,'RESP_A':RESP_A,'SENS_A':SENS_A,
              'DYDX_A_0':DYDX_A_0,'DYDX_A_1':DYDX_A_1,
              'DLDP_A_0':DLDP_A_0,'DLDP_A_1':DLDP_A_1,'DPDL_A_0':DPDL_A_0,'DPDL_A_1':DPDL_A_1,
              'EXT_B_0':EXT_B_0,'EXT_B_1':EXT_B_1,'RESP_B':RESP_B,'SENS_B':SENS_B,
              'DYDX_B_0':DYDX_B_0,
              'DLDP_B_0':DLDP_B_0,'DLDP_B_1':DLDP_B_1,'DPDL_B_0':DPDL_B_0,'DPDL_B_1':DPDL_B_1}

    return config

def get_config_G141_F160():

    EXT_A_0  = 15
    EXT_A_1  = 196
    DYDX_A_0 = lambda x,y:    2.05096481352         - 0.00019752130624389416*x - 0.002202066565067532 *y + 3.143514082596283e-8   *x*x + 4.3212786880932414e-7  *y*y + 1.210435999122636e-7  *x*y
    DYDX_A_1 = lambda x,y:    0.010205281672977665  - 6.06056923866002e-6   *x - 3.2485600412356953e-6*y + 4.2363866304617406e-10 *x*x + 1.230956851333159e-8   *y*y + 1.6123073931033502e-9 *x*y
    DLDP_A_0 = lambda x,y: 8953.7697365             + 0.08044032819916265   *x - 0.009279698766495334 *y + 0.000021856641668116504*x*x - 0.000011048008881387708*y*y + 0.00003352712538187608*x*y
    DLDP_A_1 = lambda x,y:   44.97227893276267      + 0.0004927891511929662 *x + 0.0035782416625653765*y - 9.175233345083485e-7   *x*x + 2.2355060371418054e-7  *y*y - 9.258690000316504e-7  *x*y
    DPDL_A_0 = lambda x,y: -198.97909709239238      + 0.00022085642768667504*x + 0.015657459895358234 *y - 4.20679688923729e-6    *x*x + 1.2280573229146504e-6  *y*y - 5.155391423878844e-6  *x*y
    DPDL_A_1 = lambda x,y:    0.022228565039576174  - 2.2310680636779698e-7 *x - 1.7250484537749406e-6*y + 4.1766971161196834e-10 *x*x - 1.0112004248938472e-10 *y*y + 4.956649137022331e-10 *x*y
    RESP_A   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G141.1st.sens.2.fits')
    SENS_A   = scipy.interpolate.interp1d(RESP_A["WAVELENGTH"],RESP_A["SENSITIVITY"],fill_value=0,bounds_error=False)

    EXT_B_0  = -207
    EXT_B_1  = -177
    DYDX_B_0 = lambda x,y:     -0.228016471021         +  0.001119940227389483 *x  -  0.00040208366824463386*y - 1.4194849412846487e-7 *x*x - 1.8676580206140632e-6 *y*y + 4.3309224018307426e-8  *x*y
    DLDP_B_0 = lambda x,y: 596751.005628               - 11.142828121887003    *x  - 36.64357684013913      *y + 0.011419229673613265  *x*x + 0.006832291128275392  *y*y - 0.0007734484905564656  *x*y
    DLDP_B_1 = lambda x,y:   3005.100296560758         -  0.030048806158424805 *x  +  0.007875269629428604  *y + 0.00001042904281029149*x*x + 0.00003500270057271983*y*y - 0.000029167649909560617*x*y
    DPDL_B_0 = lambda x,y:   -198.54772435079127       +  0.0018167722687743144*x  +  0.012732046102747235  *y - 3.1545156431674204e-6 *x*x - 7.78838498521172e-8   *y*y - 1.5746821630565375e-6  *x*y
    DPDL_B_1 = lambda x,y:      0.00033333333333336466 -  7.051596740287148e-20*x  -  4.8635321687450096e-20*y + 4.7199609155642836e-23*x*x + 5.44539123505613e-23  *y*y + 3.3757517911810997e-23 *x*y
    RESP_B   = fitsio.getdata('/data/highzgal/mehta/WISP/zero_order/config/WFC3.IR.G141.0th.sens.1.fits')
    SENS_B   = scipy.interpolate.interp1d(RESP_B["WAVELENGTH"],RESP_B["SENSITIVITY"])

    config = {'EXT_A_0':EXT_A_0,'EXT_A_1':EXT_A_1,'RESP_A':RESP_A,'SENS_A':SENS_A,
              'DYDX_A_0':DYDX_A_0,'DYDX_A_1':DYDX_A_1,
              'DLDP_A_0':DLDP_A_0,'DLDP_A_1':DLDP_A_1,'DPDL_A_0':DPDL_A_0,'DPDL_A_1':DPDL_A_1,
              'EXT_B_0':EXT_B_0,'EXT_B_1':EXT_B_1,'RESP_B':RESP_B,'SENS_B':SENS_B,
              'DYDX_B_0':DYDX_B_0,
              'DLDP_B_0':DLDP_B_0,'DLDP_B_1':DLDP_B_1,'DPDL_B_0':DPDL_B_0,'DPDL_B_1':DPDL_B_1}

    return config